/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/components/buttonInCards.js":
/*!*****************************************!*\
  !*** ./src/components/buttonInCards.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addJobCardDeleteButton\": () => (/* binding */ addJobCardDeleteButton),\n/* harmony export */   \"addJobCardEditButton\": () => (/* binding */ addJobCardEditButton)\n/* harmony export */ });\n/**\n* Creates a edit button of job card\n* @param {HTMLElement} parent\n*  @param {String} key\n* */\nfunction addJobCardEditButton(parent, key) {\n  const editButton = document.createElement('button');\n\n  editButton.setAttribute('class', 'btn btn-outline-secondary btn-sm');\n  editButton.setAttribute('style', 'margin-right: 0.4em;');\n  editButton.setAttribute('type', 'submit');\n  editButton.innerHTML = 'Edit';\n  editButton.setAttribute('id', 'edit-app');\n  editButton.setAttribute('data-bs-toggle', 'modal');\n  editButton.setAttribute('data-bs-target', '#updateApp');\n  editButton.setAttribute('data-id', key);\n  parent.appendChild(editButton);\n}\n\n/**\n* Creates a delete button of job card\n* @param {HTMLElement} parent\n* @param {int} key\n* */\nfunction addJobCardDeleteButton(parent, key) {\n  const deleteButton = document.createElement('button');\n  deleteButton.classList.add('btn',\n      'btn-outline-secondary',\n      'btn-sm');\n  deleteButton.setAttribute('type', 'submit');\n  deleteButton.setAttribute('id', 'delete-app');\n  deleteButton.innerHTML = 'Delete';\n  deleteButton.setAttribute('data-bs-toggle', 'modal');\n  deleteButton.setAttribute('data-bs-target', '#deleteApp');\n  deleteButton.setAttribute('data-id', key);\n  parent.appendChild(deleteButton);\n}\n\n\n//# sourceURL=webpack://cse210_group6/./src/components/buttonInCards.js?");

/***/ }),

/***/ "./src/components/cards.js":
/*!*********************************!*\
  !*** ./src/components/cards.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getCardContainer\": () => (/* binding */ getCardContainer),\n/* harmony export */   \"showAppCards\": () => (/* binding */ showAppCards)\n/* harmony export */ });\n/* harmony import */ var _buttonInCards__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./buttonInCards */ \"./src/components/buttonInCards.js\");\n\n\nlet appliedCount;\nlet inProgressCount;\nlet offerCount;\nlet rejectCount;\nlet appCardContainer = null;\n\nconst ApplicationStatus = {\n  Applied: 'Applied',\n  InProgress: 'In Progress',\n  Offer: 'Offer',\n  Reject: 'Reject',\n};\n\n/**\n  * Function to get the element containing all job cards\n  */\nfunction getCardContainer() {\n  appCardContainer = document.querySelector('#app-card-container');\n}\n\n/**\n  * Function to fetch and create all cards from db\n  * @param {Array} data\n  */\nfunction showAppCards(data) {\n// Leave the div for card container empty\n  while (appCardContainer.firstChild) {\n    appCardContainer.removeChild(appCardContainer.firstChild);\n  }\n  createAppCards(data);\n  updateStatsCard();\n};\n\n/**\n * Function to create app cards for all records in db\n * @param {Array} data\n */\nfunction createAppCards(data) {\n  appliedCount = 0;\n  inProgressCount = 0;\n  offerCount = 0;\n  rejectCount = 0;\n  if (data !== null && data.length>0) {\n    displayTitle();\n    data.forEach(createJobCard);\n  } else {\n    createEmptyAppCard();\n  }\n}\n\n/**\n * Function to create a single job card\n * @param {Object} value\n */\nfunction createJobCard(value) {\n  const card = document.createElement('div');\n  card.setAttribute('class', 'card mb-3 mx-auto');\n  card.style = 'max-width: 750px;';\n\n  const row = document.createElement('div');\n  row.setAttribute('class', 'row g-0');\n  card.appendChild(row);\n  createJobCardHeaderRow(row, value);\n  createJobCardColumnOne(row, value);\n  createJobCardColumnTwo(row, value.applicationStatus);\n  switch (value.applicationStatus) {\n    case ApplicationStatus.Applied:\n      appliedCount++;\n      break;\n    case ApplicationStatus.InProgress:\n      inProgressCount++;\n      break;\n    case ApplicationStatus.Offer:\n      offerCount++;\n      break;\n    case ApplicationStatus.Reject:\n      rejectCount++;\n      break;\n  }\n  appCardContainer.appendChild(card);\n}\n\n/**\n* Creates a job card header with information populated\n* @param {HTMLElement} parent\n* @param {Object} value\n* */\nfunction createJobCardHeaderRow(parent, value) {\n  const headerRow = document.createElement('div');\n  headerRow.setAttribute('class', 'row g-0');\n  parent.appendChild(headerRow);\n\n  const navbar = document.createElement('nav');\n  navbar.classList.add('navbar', 'rounded-top',\n      'navbar-expand-lg', 'navbar-light', 'bg-light');\n  headerRow.appendChild(navbar);\n\n  const container = document.createElement('div');\n  container.setAttribute('class', 'container-fluid');\n  navbar.appendChild(container);\n\n  createCompanyNameElement(container, value.companyName);\n\n  const buttons = document.createElement('div');\n  container.appendChild(buttons);\n\n  (0,_buttonInCards__WEBPACK_IMPORTED_MODULE_0__.addJobCardEditButton)(buttons, value.key);\n  (0,_buttonInCards__WEBPACK_IMPORTED_MODULE_0__.addJobCardDeleteButton)(buttons, value.key);\n}\n\n\n/**\n  * Function to creates a job card with information populated\n  * @param {HTMLElement} parent\n  * @param {Object} value\n  * */\nfunction createJobCardColumnOne(parent, value) {\n  const columnOne = document.createElement('div');\n  columnOne.setAttribute('class', 'col-md-8');\n  parent.appendChild(columnOne);\n\n  const bodyOne = document.createElement('div');\n  bodyOne.setAttribute('class', 'card-body');\n  columnOne.appendChild(bodyOne);\n\n  createJobIDElement(bodyOne, value.jobID);\n  createJobTypeElement(bodyOne, value.jobType);\n  createJobRoleElement(bodyOne, value.jobRole);\n  createDateAppliedElement(bodyOne, value.doa);\n  createDescriptionElement(bodyOne, value.description);\n  createLastUpdatedElement(bodyOne, value.lastUpdated);\n}\n\n/**\n* Function to create a part of job card with status information\n* @param {HTMLElement} parent\n* @param {String} applicationStatus\n* */\nfunction createJobCardColumnTwo(parent, applicationStatus) {\n  const columnTwo = document.createElement('div');\n  columnTwo.setAttribute('class',\n      setStatusBackgroundColor(applicationStatus));\n  parent.appendChild(columnTwo);\n\n  const bodyTwo = document.createElement('div');\n  bodyTwo.setAttribute('class', 'card-body align-items-center');\n  columnTwo.appendChild(bodyTwo);\n\n  const coloredColumn = document.createElement('div');\n  coloredColumn.setAttribute('class', 'd-flex justify-content-center');\n  bodyTwo.appendChild(coloredColumn);\n\n  const status = document.createElement('h5');\n  status.setAttribute('class', 'text');\n  status.innerHTML = applicationStatus;\n  coloredColumn.appendChild(status);\n}\n\n/**\n * Function to create an entry for company title in job card\n * @param {HTMLElement} parent\n * @param {String} cname\n */\nfunction createCompanyNameElement(parent, cname) {\n  const jobTitle = document.createElement('a');\n  jobTitle.setAttribute('class', 'navbar-brand');\n  jobTitle.innerHTML = cname; // cannot be null - form check added.\n  parent.appendChild(jobTitle);\n}\n\n/**\n * Function to create an entry for jobType in job card\n * @param {HTMLElement} parent\n * @param {String} jobID\n */\nfunction createJobIDElement(parent, jobID) {\n  const jobIDElement = document.createElement('p');\n  jobIDElement.setAttribute('class', 'card-text');\n  parent.appendChild(jobIDElement);\n\n  const mutedTextOne = document.createElement('text');\n  mutedTextOne.setAttribute('class', 'text-muted');\n  mutedTextOne.innerHTML = 'Job ID: ';\n  jobIDElement.appendChild(mutedTextOne);\n\n  const regularTextOne = document.createElement('text');\n  regularTextOne.innerHTML = jobID !== undefined ? jobID : '';\n  jobIDElement.appendChild(regularTextOne);\n}\n\n/**\n * Function to create an entry for jobType in job card\n * @param {HTMLElement} parent\n * @param {String} jobType\n */\nfunction createJobTypeElement(parent, jobType) {\n  const jobTypeElement = document.createElement('p');\n  jobTypeElement.setAttribute('class', 'card-text');\n  parent.appendChild(jobTypeElement);\n\n  const mutedTextOne = document.createElement('text');\n  mutedTextOne.setAttribute('class', 'text-muted');\n  mutedTextOne.innerHTML = 'Job Type: ';\n  jobTypeElement.appendChild(mutedTextOne);\n\n  const regularTextOne = document.createElement('text');\n  regularTextOne.innerHTML = jobType !== undefined ? jobType : '';\n  jobTypeElement.appendChild(regularTextOne);\n}\n\n/**\n   * Function to create an entry for jobRole in job card\n   * @param {HTMLElement} parent\n   * @param {String} jobRole\n*/\nfunction createJobRoleElement(parent, jobRole) {\n  const jobRoleElement = document.createElement('p');\n  jobRoleElement.setAttribute('class', 'card-text');\n  parent.appendChild(jobRoleElement);\n\n  const mutedTextTwo = document.createElement('text');\n  mutedTextTwo.setAttribute('class', 'text-muted');\n  mutedTextTwo.innerHTML = 'Job Role: ';\n  jobRoleElement.appendChild(mutedTextTwo);\n\n  const regularTextTwo = document.createElement('text');\n  regularTextTwo.innerHTML = jobRole !== undefined ? jobRole : '';\n  jobRoleElement.appendChild(regularTextTwo);\n}\n\n/** Function to create an entry for description in job card\n* @param {HTMLElement} parent\n* @param {String} desc\n*/\nfunction createDescriptionElement(parent, desc) {\n  const descElement = document.createElement('p');\n  descElement.setAttribute('class', 'card-text');\n  parent.appendChild(descElement);\n\n  const mutedTextTwo = document.createElement('text');\n  mutedTextTwo.setAttribute('class', 'text-muted');\n  mutedTextTwo.innerHTML = 'Description: ';\n  descElement.appendChild(mutedTextTwo);\n\n  const regularTextTwo = document.createElement('text');\n  regularTextTwo.innerHTML = desc !== undefined ? desc : '';\n  descElement.appendChild(regularTextTwo);\n}\n\n/**\n* Function to create an entry for date of application in job card\n* @param {HTMLElement} parent\n* @param {String} doa\n*/\nfunction createDateAppliedElement(parent, doa) {\n  const dateApplied = document.createElement('p');\n  dateApplied.setAttribute('class', 'card-text');\n  parent.appendChild(dateApplied);\n\n  const mutedTextTwo = document.createElement('text');\n  mutedTextTwo.setAttribute('class', 'text-muted');\n  mutedTextTwo.innerHTML = 'Date Applied: ';\n  dateApplied.appendChild(mutedTextTwo);\n\n  const regularTextTwo = document.createElement('text');\n  regularTextTwo.innerHTML = doa !== undefined ? doa : '';\n  dateApplied.appendChild(regularTextTwo);\n}\n\n/**\n* Function To set background color indicating status of application.\n* @param {String} status\n* @return {String}\n*/\nfunction setStatusBackgroundColor(status) {\n  if (status == ApplicationStatus.InProgress) {\n    // eslint-disable-next-line max-len\n    return 'col-sm rounded-bottom-right-1 bg-warning-custom-status d-flex align-items-center';\n  } else if (status == ApplicationStatus.Applied) {\n    // eslint-disable-next-line max-len\n    return 'col-sm rounded-bottom-right-1 bg-primary-custom-status d-flex align-items-center';\n  } else if (status == ApplicationStatus.Offer) {\n    // eslint-disable-next-line max-len\n    return 'col-sm rounded-bottom-right-1 bg-success-custom-status d-flex align-items-center';\n  } else if (status == ApplicationStatus.Reject) {\n    // eslint-disable-next-line max-len\n    return 'col-sm rounded-bottom-right-1 bg-danger-custom-status d-flex align-items-center';\n  } else {\n    return 'col-sm rounded-bottom-right-1 bg-muted d-flex align-items-center';\n  }\n}\n\n/**\n* Function to display title\n*/\nfunction displayTitle() {\n  // const card = document.createElement('div');\n  const text = document.createElement('h4');\n  text.setAttribute('class', 'mb-3 text-center');\n  text.textContent = 'Job Applications';\n  appCardContainer.appendChild(text);\n}\n\n/**\n* Function to create Empty card in case of no applications\n*/\nfunction createEmptyAppCard() {\n  if (!appCardContainer.firstChild) {\n    const card = document.createElement('div');\n    card.setAttribute('class', 'card mb-3 mx-auto');\n    card.setAttribute('id', 'noApplications');\n    card.style = 'max-width: 750px;';\n    const text = document.createElement('p');\n    // eslint-disable-next-line max-len\n    text.textContent = 'Looks like you do not have any applications to track! Get started by clicking on the Add Applications button above.';\n    appCardContainer.appendChild(card);\n    card.appendChild(text);\n  }\n}\n\n/**\n * Function to get counts of each status type and updates the statsbar\n *  at the top of the dashboard\n */\nfunction updateStatsCard() {\n  document.getElementById('appliedCount').innerHTML = appliedCount;\n  document.getElementById('inProgressCount').innerHTML = inProgressCount;\n  document.getElementById('offerCount').innerHTML = offerCount;\n  document.getElementById('rejectCount').innerHTML = rejectCount;\n}\n\n/**\n * Function to create an entry for last updated date in job card\n * @param {HTMLElement} parent\n  * @param {String} lastUpdated\n*/\nfunction createLastUpdatedElement(parent, lastUpdated) {\n  const lastUpdatedElem = document.createElement('p');\n  lastUpdatedElem.setAttribute('class', 'card-text');\n  parent.appendChild(lastUpdatedElem);\n\n  const mutedTextTwo = document.createElement('sub');\n  mutedTextTwo.setAttribute('class', 'text-muted');\n  mutedTextTwo.innerHTML = 'Last Updated: ';\n  lastUpdatedElem.appendChild(mutedTextTwo);\n\n  const regularTextTwo = document.createElement('sub');\n  regularTextTwo.setAttribute('class', 'text-muted');\n  regularTextTwo.innerHTML = lastUpdated !== undefined ? lastUpdated : '';\n  lastUpdatedElem.appendChild(regularTextTwo);\n}\n\n\n\n//# sourceURL=webpack://cse210_group6/./src/components/cards.js?");

/***/ }),

/***/ "./src/components/utils.js":
/*!*********************************!*\
  !*** ./src/components/utils.js ***!
  \*********************************/
/***/ ((module) => {

eval("/**\n * Function to return todays date in yyyy-mm-dd format\n * @return {String} today's date\n */\nfunction getCurrentDate() {\n  let today = new Date();\n  const dd = String(today.getDate()).padStart(2, '0');\n  const mm = String(today.getMonth() + 1).padStart(2, '0');\n  const yyyy = today.getFullYear();\n  today = yyyy + '-' + mm + '-' + dd;\n  return today;\n}\n\n/**\n       * find the value selected in Radio button\n       * @param {HTMLElement} elements\n       * @return {string}\n       */\nfunction findRadioSelectedValue(elements) {\n  let val = '';\n\n  for (let i = 0; i < elements.length; i++) {\n    if (elements[i].checked) {\n      val = elements[i].value;\n    }\n  }\n  return val;\n}\n\n/**\n * Function to export application records to csv\n * @param {Object} arr\n */\nfunction convertToCSV(arr) {\n  /**\n   * Specifying exactly what column of csv to populate\n   * values to avoid wrong values to fall in wrong columns\n   * after update operation is performed.\n   * */\n  const csvString = [\n    [\n      'key',\n      'jobID',\n      'companyName',\n      'jobType',\n      'jobRole',\n      'doa',\n      'applicationStatus',\n      'description',\n      'lastUpdated',\n    ],\n    ...arr.map((item) => [\n      item.key,\n      item.jobID,\n      item.companyName,\n      item.jobType,\n      item.jobRole,\n      item.doa,\n      item.applicationStatus,\n      item.description.replace(/\\n/g, ' '),\n      item.lastUpdated,\n    ]),\n  ].map((e) => e.join(','))\n      .join('\\n');\n\n\n  // create a HTML element to download the csv link\n  const element = document.createElement('a');\n  element.href = 'data:text/csv;charset=utf-8,' + encodeURI(csvString);\n  element.target = '_blank';\n  element.download = 'export.csv';\n  element.click();\n}\n\nmodule.exports = {getCurrentDate, findRadioSelectedValue, convertToCSV};\n\n\n//# sourceURL=webpack://cse210_group6/./src/components/utils.js?");

/***/ }),

/***/ "./src/database/database.js":
/*!**********************************!*\
  !*** ./src/database/database.js ***!
  \**********************************/
/***/ ((module) => {

eval("/**\n * Database module exposes all the APIs for performing CRUD operations on the\n * instance of the indexedDB database.\n */\nclass Database {\n  /**\n     * @param {string} name Database Name\n     * @param {int} version Database Version\n     */\n  constructor(name, version) {\n    this.name = name;\n    this.version = version;\n    this.indexedDB = {};\n    this.database = indexedDB.open(name, version);\n  }\n  /**\n   * Function to initialize or upgrade the database in indexedDB\n   * @param {string} fields Fields of database instance\n   * @return {Promise} promise\n   */\n  initialize(fields) {\n    return new Promise((resolve, reject) => {\n      this.database.onupgradeneeded = (event) => {\n        const instance = event.target.result;\n        const objectStore = instance.createObjectStore(this.name, {\n          keyPath: 'key',\n          autoIncrement: true,\n        });\n\n        if (typeof fields === 'string') {\n          fields = fields.split(',');\n        }\n        for (const field of fields) objectStore.createIndex(field, field);\n      };\n\n      this.database.onsuccess = (event) => {\n        this.indexedDB = this.database.result;\n        resolve(this.indexedDB);\n      };\n      this.database.onerror = function(event) {\n        reject(new Error(`error opening database ${event.target.errorCode}`));\n      };\n    });\n  }\n\n  /**\n   * Function to save a record to the database\n   * @param {Object} record Application object to be saved to the database\n   * @return {Promise} Promise\n   */\n  save(record) {\n    return new Promise((resolve, reject) => {\n      if (typeof record === 'object') {\n        // eslint-disable-next-line max-len\n        const transaction = this.indexedDB.transaction([this.name], 'readwrite');\n        const objectStore = transaction.objectStore(this.name);\n        const request = objectStore.add(record);\n        request.onsuccess = () => {\n          resolve(transaction);\n        };\n        request.onerror = () => {\n          reject(new Error('An object was expected.'));\n        };\n      }\n    });\n  }\n  /**\n   * Function to return a cursor that can be used to iterate over the database\n   * @return {Cursor} Cursor\n   */\n  getCursor() {\n    return new Promise((resolve, reject) => {\n      const transaction = this.indexedDB.transaction([this.name], 'readonly');\n      const objectStore = transaction.objectStore(this.name);\n      const request = objectStore.openCursor();\n      request.onsuccess = (e) => {\n        resolve(request);\n      };\n      request.onerror = () => {\n        reject(new Error('Could not get cursor'));\n      };\n    });\n  }\n  /**\n   * Function to Get a Record from the database by Key\n   * @param {int} key The key for which we want to search a record\n   * @return {Object} The record corresponding to the key passed\n   */\n  getRecordByKey(key) {\n    return new Promise((resolve, reject) => {\n      if (typeof key === 'number') {\n        const transaction = this.indexedDB.transaction([this.name], 'readonly');\n        const objectStore = transaction.objectStore(this.name);\n        const request = objectStore.get(key);\n        request.onsuccess = () => {\n          resolve(request.result);\n        };\n      } else {\n        reject(new Error('Key expected to be a number.'));\n      }\n    });\n  }\n  /**\n   * Function to fetch all records in the dataset and stores it as a list\n   * @return {Promise}\n   */\n  getAllRecords() {\n    return new Promise((resolve, reject) => {\n      const transaction = this.indexedDB.transaction([this.name], 'readonly');\n      const objectStore = transaction.objectStore(this.name);\n      const request = objectStore.openCursor();\n      const data = [];\n      request.onsuccess = (e) => {\n        const cursor = e.target.result;\n        if (cursor) {\n          data.push(cursor.value);\n          cursor.continue();\n        } else {\n          resolve(data);\n        }\n      };\n      request.onerror = () => {\n        reject(new Error('Could not get records'));\n      };\n    });\n  }\n  /**\n   * Function to update a record in the DB (by key in the record)\n   * @param {Object} record New record for replacing the old record\n   * @return {Promise} Promise\n   */\n  update(record) {\n    return new Promise((resolve, reject) => {\n      if (typeof record === 'object') {\n        // eslint-disable-next-line max-len\n        const transaction = this.indexedDB.transaction([this.name], 'readwrite');\n        const objectStore = transaction.objectStore(this.name);\n        const request = objectStore.put(record);\n        request.onsuccess = () => {\n          resolve(request.result);\n        };\n        request.onerror = () => {\n          reject(new Error('Could not update'));\n        };\n      } else {\n        reject(new Error('An object was expected'));\n      }\n    });\n  }\n\n  /**\n   * Function to delete a record in database by key\n   * @param {int} key Key for which the record in db needs to be deleted\n   * @return {Promise} Promise\n   */\n  remove(key) {\n    return new Promise((resolve, reject) => {\n      if (typeof key === 'number') {\n        // eslint-disable-next-line max-len\n        const transaction = this.indexedDB.transaction([this.name], 'readwrite');\n        const objectStore = transaction.objectStore(this.name);\n        const request = objectStore.delete(key);\n        request.onsuccess = () => {\n          resolve(request.result);\n        };\n      } else {\n        reject(new Error('key is not number'));\n      }\n    });\n  }\n}\n\n\nmodule.exports = Database;\n\n\n//# sourceURL=webpack://cse210_group6/./src/database/database.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _database_database__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./database/database */ \"./src/database/database.js\");\n/* harmony import */ var _database_database__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_database_database__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_cards__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/cards */ \"./src/components/cards.js\");\n/* harmony import */ var _components_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/utils */ \"./src/components/utils.js\");\n/* harmony import */ var _components_utils__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_components_utils__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nlet database = null;\n\n/**\n * Show application cards by reading database\n */\nfunction dbShowAppCards() {\n  database.getAllRecords().then((data) => {\n    (0,_components_cards__WEBPACK_IMPORTED_MODULE_1__.showAppCards)(data);\n    console.log('added');\n  }).catch((e) => console.log(e, 'error in fetching all records'));\n}\n\n/**\n* Show Application Form\n* @param {event} event\n*/\nfunction showApplicationForm(event) {\n  event.preventDefault();\n  // enable the display of app form\n  console.log('Application Form Has Been Activated');\n  document.getElementById('application-form-container').style.display = '';\n  document.getElementById('doa').setAttribute('max', (0,_components_utils__WEBPACK_IMPORTED_MODULE_2__.getCurrentDate)());\n}\n\n/**\n* Hide Application Form\n* @param {event} event\n*/\nfunction hideApplicationForm(event) {\n  event.preventDefault();\n  // reset form details\n  document.getElementById('application-form').reset();\n  console.log('Hiding Application Form');\n  document.getElementById('application-form-container').\n      style.display = 'none';\n  // clear form validation errors\n  setValid(document.getElementById('cname'));\n}\n\n\n/**\n* @param {LoadDatabase} loadDB Run on page load/refresh\n* @listens LoadDatabase\n*/\ndocument.addEventListener('DOMContentLoaded', (loadDB) => {\n  const name = 'Applications';\n  const version = 1;\n  const fields = 'jobID,'+\n  'companyName,'+\n  'jobType,'+\n  'jobRole,'+\n  'doa,'+\n  'applicationStatus,'+\n  'description';\n  database = new (_database_database__WEBPACK_IMPORTED_MODULE_0___default())(name, version);\n  (0,_components_cards__WEBPACK_IMPORTED_MODULE_1__.getCardContainer)();\n  // eslint-disable-next-line max-len\n  database.initialize(fields).then(()=>dbShowAppCards());\n  // save button to save application in database\n  document.getElementById('save').onclick = addApplication;\n  // show form to call function to display form\n  document.getElementById('showForm').onclick = showApplicationForm;\n  // Hide Application form on clicking\n  document.getElementById('cancel').onclick = hideApplicationForm;\n  // Form Validation\n  document.getElementById('cname').addEventListener('focusout', (event) => {\n    checkIfEmpty(event.target);\n  });\n  // export button action\n  document.getElementById('export').onclick = exportApplications;\n});\n\n/**\n * Function to export applications to a csv file.\n * @param {event} event\n */\nfunction exportApplications(event) {\n  event.preventDefault();\n  database.getAllRecords().then((data) => {\n    (0,_components_utils__WEBPACK_IMPORTED_MODULE_2__.convertToCSV)(data);\n  }).catch((e) => console.log(e, 'error in fetching all records'));\n}\n/**\n * Function to check if a field in a form is empty\n * @param {String} value\n * @return {boolean}\n */\nfunction isEmpty(value) {\n  if (value===null || value==='') {\n    return true;\n  } return false;\n}\n\n/**\n * Function to set a field in the form invalid\n * @param {HTMLElement} field\n * @param {string} message\n*/\nfunction setInvalid(field, message) {\n  // field.setAttribute('class', 'border border-danger');\n  field.setAttribute('class', 'form-control border-danger');\n  document.getElementById('validation-message').innerHTML = message;\n  document.getElementById('validation-message').style.color = '#F44336';\n}\n\n/**\n * Function to set a field in the form invalid\n * @param {HTMLElement} field\n * @param {string} message\n*/\nfunction setValid(field) {\n  field.classList.remove('border-danger');\n  document.getElementById('validation-message').innerHTML = '';\n}\n\n/**\n * Function to set a field in the form invalid\n * @param {HTMLElement} field\n * @return {boolean} isValid\n*/\nfunction checkIfEmpty(field) {\n  if (isEmpty(field.value.trim())) {\n    // set field invalid\n    setInvalid(field, `Please enter the ${field.name}`);\n    return true;\n  } else {\n    setValid(field);\n    return false;\n  }\n}\n\n/**\n * Function to validate the form\n * @return {boolean} isValid\n */\nfunction validateForm() {\n  const companyName = document.getElementById('cname');\n  if (checkIfEmpty(companyName)) {\n    return false;\n  } return true;\n}\n\n/**\n* Function to Add Application\n* @param {event} event\n*/\nfunction addApplication(event) {\n  event.preventDefault();\n  const jobID = document.getElementById('jobid').value;\n  const companyName = document.getElementById('cname').value;\n  const jobType =\n      (0,_components_utils__WEBPACK_IMPORTED_MODULE_2__.findRadioSelectedValue)(document.getElementsByName('jobtype'));\n  const jobRole = document.getElementById('jobrole').value;\n  const doa = document.getElementById('doa').value;\n  const applicationStatus = document.getElementById('status').value;\n  const description = document.getElementById('desc').value;\n  // creating record in db\n  if (validateForm()) {\n    const application = {jobID: jobID,\n      companyName: companyName,\n      jobType: jobType,\n      jobRole: jobRole,\n      doa: doa,\n      applicationStatus: applicationStatus,\n      description: description,\n      lastUpdated: (0,_components_utils__WEBPACK_IMPORTED_MODULE_2__.getCurrentDate)()};\n    database.save(application)\n        .then((transaction) => {\n          // document.getElementById('application-form').reset();\n          hideApplicationForm(event);\n          transaction.oncomplete = () => {\n            dbShowAppCards();\n          };\n        })\n        .catch((error) => console.log('error', error));\n  }\n}\n\n/**\n* Add Listener to the delete button\n*/\ndocument.addEventListener('click', function(e) {\n  const deleteBtn = e.target.closest('#delete-app'); // Or any other selector.\n  if (deleteBtn) {\n    createDeleteModal(e);\n  }\n});\n\n/**\n* Function to create modal for delete\n* @param {event} event\n*/\nfunction createDeleteModal(event) {\n  const key = Number(event.target.getAttribute('data-id'));\n  const deleteButtonModal = document.querySelector('#deleteAppButton');\n  deleteButtonModal.setAttribute('data-id', key);\n  deleteButtonModal.onclick = deleteViaModal;\n}\n\n/**\n * Function to delete via button in modal\n * @param {event} event\n */\nfunction deleteViaModal(event) {\n  event.preventDefault();\n  const key = Number(event.target.getAttribute('data-id'));\n  deleteApplication(key);\n}\n\n/**\n * Function to succesfully delete an application by key\n * @param {int} key Key for which a record needs to be deleted\n */\nfunction deleteApplication(key) {\n  database.remove(key)\n      .then((result) => {\n        dbShowAppCards();\n        console.log(result);\n      })\n      .catch((error) => console.log('error in deleting record!', error));\n}\n\n/**\n * Add Listener to the edit button\n */\ndocument.addEventListener('click', function(e) {\n  const editBtn = e.target.closest(`#edit-app`);\n  if (editBtn) {\n    createEditModal(e);\n  }\n});\n\n/**\n * Populate details of a particular record\n * @param {event} event\n */\nfunction createEditModal(event) {\n  const key = Number(event.target.getAttribute('data-id'));\n  console.log(`Edit`);\n  console.log(key);\n  database.getRecordByKey(key).then((value)=>{\n    document.getElementById('edit-form').reset();\n    console.log(value);\n    document.getElementById('editJobid').setAttribute('value', value.jobID);\n    document.getElementById('editCname')\n        .setAttribute('value', value.companyName);\n    document.getElementById(value.jobType).checked = true;\n    // eslint-disable-next-line max-len\n    for (const option of document.getElementById('editApplicationStatus').options) {\n      if (option.value === value.applicationStatus) {\n        option.selected = true;\n      }\n    }\n    document.getElementById('editJobrole')\n        .setAttribute('value', value.jobRole);\n    document.getElementById('editDoa')\n        .setAttribute('value', value.doa);\n    document.getElementById('editDoa')\n        .setAttribute('max', (0,_components_utils__WEBPACK_IMPORTED_MODULE_2__.getCurrentDate)());\n    document.getElementById('editDescription')\n        .innerHTML=value.description;\n  });\n\n  const editSaveButtonModal = document.querySelector('#editAppButton');\n  editSaveButtonModal.setAttribute('data-id', key);\n  editSaveButtonModal.onclick = editViaModal;\n}\n\n/**\n * Function to add edit functionality to edit button in modal\n * @param {event} event\n */\nfunction editViaModal(event) {\n  event.preventDefault();\n  const key = Number(event.target.getAttribute('data-id'));\n  editApplication(key);\n}\n\n/**\n * Function to succesfully update the application by key\n * @param {int} key\n */\nfunction editApplication(key) {\n  const jobID = document.getElementById('editJobid').value;\n  const companyName = document.getElementById('editCname').value;\n  const jobType =\n  (0,_components_utils__WEBPACK_IMPORTED_MODULE_2__.findRadioSelectedValue)(document.getElementsByName('editJobtype'));\n  const jobRole = document.getElementById('editJobrole').value;\n  const doa = document.getElementById('editDoa').value;\n  const applicationStatus =\n    document.getElementById('editApplicationStatus').value;\n  const description = document.getElementById('editDescription').value;\n  // craeting record in db\n  const application = {\n    key: key,\n    jobID: jobID,\n    companyName: companyName,\n    jobType: jobType,\n    jobRole: jobRole,\n    doa: doa,\n    applicationStatus: applicationStatus,\n    description: description,\n    lastUpdated: (0,_components_utils__WEBPACK_IMPORTED_MODULE_2__.getCurrentDate)()};\n  database.update(application)\n      .then((transaction) => {\n        document.getElementById('edit-form').reset();\n        dbShowAppCards();\n      })\n      .catch((error) => console.log('error in updating the record.', error));\n}\n\n\n//# sourceURL=webpack://cse210_group6/./src/index.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;